extend type Query {
  dockerContainers(onlyRunning: Boolean = true): [DockerContainer!]!
}

type DockerContainer {
  id: ID!
  name: String!
  labels: [KeyValue!]!
  image: DockerImage!
  created: DateTime!
  command: [String!]!
  privileged: Boolean!
  environment: [KeyValue!]!
  mounts: [DockerContainerMount!]!
  connections: [DockerContainerConnection!]!
  ports: [DockerContainerPort!]!
  status: DockerContainerStatus!
}

type DockerContainerMount {
  type: DockerContainerMountType!
  volume: DockerVolume
  source: String
  target: String!
  readonly: Boolean!
}

enum DockerContainerMountType {
  BIND
  VOLUME
  TMPFS
  NPIPE
}

type DockerContainerConnection {
  aliases: [String!]!
  ipAddress: String
  network: DockerNetwork
}

type DockerContainerPort {
  protocol: DockerContainerPortProtocol!
  containerPort: Int!
  hostBindings: [DockerContainerPortHostBinding!]!
}

type DockerContainerPortHostBinding {
  ip: String!
  port: Int!
}

enum DockerContainerPortProtocol {
  TCP
  UDP
}

enum DockerContainerStatus {
  CREATED
  RESTARTING
  RUNNING
  REMOVING
  PAUSED
  EXITED
  DEAD
}

extend type Mutation {
  dockerStartContainer(id: ID!): DockerContainer
  dockerRestartContainer(id: ID!): DockerContainer
  dockerPauseContainer(id: ID!): DockerContainer
  dockerUnpauseContainer(id: ID!): DockerContainer
  dockerStopContainer(id: ID!): DockerContainer
  dockerKillContainer(id: ID!): DockerContainer
  dockerRenameContainer(id: ID!, name: String!): DockerContainer
  dockerRemoveContainer(
    id: ID!
    force: Boolean = false
    pruneVolumes: Boolean = false
  ): Boolean!
  dockerPruneContainers: Float
}
